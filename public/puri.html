<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Place Explorer | Travel Mate</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <style>
    body {
      display: block;
      background-color: var(--bg-dark);
    }

    .hero-section {
      height: 60vh;
      position: relative;
      display: flex;
      align-items: flex-end;
      padding: 4rem 2rem;
      background-size: cover;
      background-position: center;
    }

    .hero-section::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, var(--bg-dark), transparent);
    }

    .hero-content {
      position: relative;
      z-index: 10;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    .info-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      max-width: 1200px;
      margin: -4rem auto 4rem;
      padding: 0 2rem;
      position: relative;
      z-index: 20;
    }

    .detail-card {
      background: var(--bg-card);
      backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
      border-radius: 1.5rem;
      padding: 2rem;
    }

    .emergency-sidebar {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .contact-pill {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.05);
      padding: 1rem;
      border-radius: 1rem;
      border: 1px solid var(--glass-border);
      transition: var(--transition);
      text-decoration: none;
      color: white;
    }

    .contact-pill:hover {
      background: rgba(99, 102, 241, 0.1);
      transform: translateX(5px);
    }

    .stat-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.1);
      padding: 0.5rem 1rem;
      border-radius: 999px;
      font-size: 0.875rem;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .feature-item {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      background: rgba(99, 102, 241, 0.1);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
      font-size: 1.5rem;
      flex-shrink: 0;
    }

    .risk-banner {
      padding: 1rem;
      border-radius: 1rem;
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .risk-low {
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.2);
      color: #10b981;
    }

    .risk-medium {
      background: rgba(245, 158, 11, 0.1);
      border: 1px solid rgba(245, 158, 11, 0.2);
      color: #f59e0b;
    }

    .risk-high {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    @media (max-width: 992px) {
      .info-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

  <div class="nav-container" style="background: rgba(15, 23, 42, 0.5); border: none;">
    <button class="btn btn-secondary" onclick="dashboard()">
      <i class="ph ph-arrow-left"></i> Back
    </button>
    <div style="flex: 1; text-align: center;">
      <a href="#" class="nav-brand">Travel Mate</a>
    </div>
    <button class="btn btn-danger" id="sosBtn">
      SOS
    </button>
  </div>

  <div class="hero-section" id="heroBg">
    <div class="hero-content">
      <span class="badge badge-success" id="type-badge">Historical</span>
      <h1 id="place-title" style="font-size: 4rem; margin: 1rem 0; -webkit-text-fill-color: white;">Jagannath Temple
      </h1>
      <div id="quick-stats">
        <span class="stat-badge"><i class="ph ph-map-pin"></i> <span id="city-text">Puri</span></span>
        <span class="stat-badge"><i class="ph ph-clock"></i> <span id="time-text">2 hrs</span></span>
        <span class="stat-badge"><i class="ph ph-calendar"></i> Off: <span id="off-text">None</span></span>
      </div>
    </div>
  </div>

  <div class="info-grid">
    <div class="detail-card animate-fade-in">
      <div id="risk-container" class="risk-banner risk-low">
        <i class="ph ph-shield-check" style="font-size: 1.5rem;"></i>
        <div>
          <div style="font-weight: 700;">Safety Analysis: <span id="risk-level">Low Risk</span></div>
          <div style="font-size: 0.875rem;" id="risk-desc">Safe urban area with constant surveillance.</div>
        </div>
      </div>

      <h3 style="background: none; -webkit-text-fill-color: initial; color: white;">Visitor Information</h3>
      <div style="margin-top: 2rem;">
        <div class="feature-item">
          <div class="feature-icon"><i class="ph ph-airplane"></i></div>
          <div>
            <div style="font-weight: 600;">Connectivity</div>
            <p style="color: var(--text-muted); font-size: 0.875rem;">Airport within 50km: <span
                id="airport-check">Yes</span></p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon"><i class="ph ph-camera"></i></div>
          <div>
            <div style="font-weight: 600;">Photography</div>
            <p style="color: var(--text-muted); font-size: 0.875rem;">DSLR Allowed: <span id="dslr-check">Yes</span></p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon"><i class="ph ph-currency-inr"></i></div>
          <div>
            <div style="font-weight: 600;">Entrance Fees</div>
            <p style="color: var(--text-muted); font-size: 0.875rem;">Fees: â‚¹<span id="fees-amount">0</span></p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon"><i class="ph ph-mask-happy"></i></div>
          <div>
            <div style="font-weight: 600;">Safety Precautions</div>
            <p style="color: var(--text-muted); font-size: 0.875rem;" id="safety-text">Keep your belongings safe.</p>
          </div>
        </div>
      </div>

      <div style="margin-top: 3rem;">
        <h3 style="background: none; -webkit-text-fill-color: initial; color: white;">Quick Links</h3>
        <div class="grid grid-cols-2" style="margin-top: 1rem;">
          <button class="btn btn-primary"
            onclick="window.open('https://www.google.com/maps/search/hospitals+near+' + placeName)">
            <i class="ph ph-first-aid"></i> Nearby Hospitals
          </button>
          <button class="btn btn-secondary" onclick="window.open('https://www.goibibo.com/hotels/')">
            <i class="ph ph-bed"></i> Find Hotels
          </button>
        </div>
      </div>
    </div>

    <div class="emergency-sidebar">
      <h3 style="background: none; -webkit-text-fill-color: initial; color: white; margin-bottom: 1rem;">Emergency</h3>
      <a href="tel:112" class="contact-pill">
        <div style="display: flex; align-items: center; gap: 1rem;">
          <i class="ph ph-phone-call" style="color: var(--danger);"></i>
          <span>National Emergency</span>
        </div>
        <span style="font-weight: 700;">112</span>
      </a>
      <a href="tel:1363" class="contact-pill">
        <div style="display: flex; align-items: center; gap: 1rem;">
          <i class="ph ph-info" style="color: var(--primary);"></i>
          <span>Tourist Helpline</span>
        </div>
        <span style="font-weight: 700;">1363</span>
      </a>
      <a href="tel:100" class="contact-pill">
        <div style="display: flex; align-items: center; gap: 1rem;">
          <i class="ph ph-shield"></i>
          <span>Police</span>
        </div>
        <span style="font-weight: 700;">100</span>
      </a>
      <a href="tel:1091" class="contact-pill">
        <div style="display: flex; align-items: center; gap: 1rem;">
          <i class="ph ph-woman"></i>
          <span>Women Helpline</span>
        </div>
        <span style="font-weight: 700;">1091</span>
      </a>

      <div class="glass-card" style="margin-top: 1rem; border-color: rgba(99,102,241,0.3);">
        <i class="ph ph-info-circle" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
        <p style="font-size: 0.875rem; color: var(--text-muted);">
          Use the SOS button only in real emergencies. Misuse can lead to legal penalties.
        </p>
      </div>
    </div>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    let placeName = urlParams.get('place_name') || 'Puri';
    const imageData = urlParams.get('image_data');
    const email = urlParams.get('email');
    const phone = urlParams.get('phone');
    const name = urlParams.get('name');
    const card = urlParams.get('card');

    // Fill Data
    document.getElementById('place-title').innerText = placeName;
    document.getElementById('city-text').innerText = urlParams.get('city') || '-';
    document.getElementById('type-badge').innerText = urlParams.get('type') || 'Place';
    document.getElementById('time-text').innerText = (urlParams.get('time') || '0') + ' hrs';
    document.querySelectorAll('#off-text').forEach(el => el.innerText = urlParams.get('off') || 'None');
    document.getElementById('airport-check').innerText = urlParams.get('air') || 'Yes';
    document.getElementById('dslr-check').innerText = urlParams.get('dslr') || 'Yes';
    document.getElementById('fees-amount').innerText = urlParams.get('fees') || '0';
    document.getElementById('safety-text').innerText = urlParams.get('risk3') || 'No specific precautions.';

    const riskLevel = urlParams.get('risk1') || 'Low';
    const riskLevelEl = document.getElementById('risk-level');
    const riskContainer = document.getElementById('risk-container');
    riskLevelEl.innerText = riskLevel + ' Risk';
    riskContainer.className = 'risk-banner risk-' + riskLevel.toLowerCase();
    document.getElementById('risk-desc').innerText = urlParams.get('risk2') || 'Standard safety measures apply.';

    if (imageData) {
      document.getElementById('heroBg').style.backgroundImage = `url('${imageData}')`;
    } else {
      document.getElementById('heroBg').style.backgroundImage = `url('hero_bg.png')`;
    }

    function dashboard() {
      window.location.href = `dashboard.html?name=${name}&email=${email}&phone=${phone}&card=${card}`;
    }

    document.getElementById('sosBtn').addEventListener('click', () => {
      if (confirm('ðŸš¨ ACTIVATE SOS ðŸš¨\nAre you sure you want to trigger an emergency alert?')) {
        window.location.href = `sos.html?email=${email}&phone=${phone}&place=${placeName}&name=${name}`;
      }
    });
  </script>
</body>

</html>